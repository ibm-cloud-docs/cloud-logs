---

copyright:
  years:  2024
lastupdated: "2024-06-13"

keywords:

subcollection: cloud-logs

---

{{site.data.keyword.attribute-definition-list}}

# Enabling event notifications for {{site.data.keyword.logs_full_notm}}
{: #event-notifications-events}

As an administrator of {{site.data.keyword.logs_full_notm}}, you might want to send notifications of events in {{site.data.keyword.logs_full_notm}} to other users, or human destinations, by using email, SMS, or other supported delivery channels. Additionally, you might want to send these notifications of events to other applications to build logic by using event-driven programming using webhooks, for example. This is made possible by the integration between {{site.data.keyword.logs_full_notm}} and {{site.data.keyword.en_full_notm}}.
{: shortdesc}

To send information to {{site.data.keyword.en_short}}, you must connect your {{site.data.keyword.logs_full_notm}} instance to {{site.data.keyword.en_short}}. For more information about working with {{site.data.keyword.en_short}}, see [Getting started with {{site.data.keyword.en_short}}](/docs/event-notifications?topic=event-notifications-getting-started).

## How events are collected and sent by {{site.data.keyword.logs_full_notm}}
{: #event-notifications-how}

When an event of interest takes place in your {{site.data.keyword.logs_full_notm}} instance, {{site.data.keyword.logs_full_notm}} communicates with a connected {{site.data.keyword.en_short}} instance to forward a notification to a [supported destination](/docs/event-notifications?topic=event-notifications-en-destination).


## Events for {{site.data.keyword.logs_full_notm}}
{: #event-notifications-list}

The following table lists the {{site.data.keyword.logs_full_notm}} events.

<!-- add a column for subtype, if you have need that level of detail -->

| Event type                                  | Description |
|------------------------------------------|---------|
| `com.ibm.cloud.logs.test_event`  | Test event. |
| `com.ibm.cloud.logs.StandardImmediateAlertEvent` | Standard Immediate Alert |
| `com.ibm.cloud.logs.StandardLessThanAlertEvent` | Standard Less Than Alert |
| `com.ibm.cloud.logs.StandardMoreThanAlertEvent` | Standard More Than Alert |
| `com.ibm.cloud.logs.StandardMoreThanUsualAlertEvent` | Standard More Than Usual Alert |
| `com.ibm.cloud.logs.RatioLessThanAlertEvent` | Ratio Less Than Alert |
| `com.ibm.cloud.logs.RatioMoreThanAlertEvent` | Ratio More Than Alert |
| `com.ibm.cloud.logs.NewValueAlertEvent` | New Value Alert |
| `com.ibm.cloud.logs.UniqueCountAlertEvent` | Unique Count Alert |
| `com.ibm.cloud.logs.TimeRelativeLessThanAlertEvent` | Time Relative Less Than Alert |
| `com.ibm.cloud.logs.TimeRelativeMoreThanAlertEvent` | Time Relative More Than Alert |
| `com.ibm.cloud.logs.MetricLessThanAlertEvent` | Metric Less Than Alert |
| `com.ibm.cloud.logs.MetricMoreThanAlertEvent` | Metric More Than Alert |
| `com.ibm.cloud.logs.MetricMoreThanUsualAlertEvent` | Metric More Than Usual Alert |
| `com.ibm.cloud.logs.TracingImmediateAlertEvent` | Tracing Immediate Alert |
| `com.ibm.cloud.logs.TracingMoreThanAlertEvent` | Tracing More Than Alert |
| `com.ibm.cloud.logs.FlowAlertEvent` | Flow Alert Alert |
| `com.ibm.cloud.logs.FlowAnomaly` | Flow Anomaly event|
| `com.ibm.cloud.logs.SpikeAnomaly` | Spike Anomaly event |
| `com.ibm.cloud.logs.DailyReport` | Daily Report event|
| `com.ibm.cloud.logs.DataUsage` | Data Usage event |
{: caption="Table 1. Actions that generate event notifications" caption-side="bottom"}

The following table lists the {{site.data.keyword.logs_full_notm}} subtypes per event type related to alerts:

|Subtype                      | Description |
|-----------------------------|---------|
| `AlertTriggered`  | The alert is triggered. |
| `AlertResolved` | The alert is resolved. |
{: caption="Table 2. Subtypes for actions that generate event notifications" caption-side="bottom"}

## Enabling notifications
{: #event-notifications-enable}

Events that are generated by an instance of the {{site.data.keyword.logs_full_notm}} service can be forwarded to an {{site.data.keyword.en_short}} service instance that is available in the same account. You can configure only one {{site.data.keyword.logs_full_notm}} instance to one {{site.data.keyword.en_short}} service instance.

### Connecting to {{site.data.keyword.en_short}} in the console
{: #event-notifications-enable-ui}
{: ui}

Before you can enable notifications for {{site.data.keyword.logs_full_notm}}, be sure that you have an [{{site.data.keyword.en_short}} service instance](/catalog/services/event-notifications){: external} that is in the same account as your {{site.data.keyword.logs_full_notm}} instance. Then, you can use the **Data Flow > Outbound integrations** section in the {{site.data.keyword.logs_full_notm}} UI to connect the services.

1. In the console, click the **Navigation Menu** icon ![Navigation Menu icon](/icons/icon_hamburger.svg) **> Resource list**.
2. Select your instance of {{site.data.keyword.logs_full_notm}}.
3. In the {{site.data.keyword.logs_full_notm}} navigation, click The **Integrations** icon ![Integrations icon](/icons/integrations.svg "Integrations") > **Outbound integrations**.
4. In the outbound integrations section, find  {{site.data.keyword.en_short}} and click **Add**.
5. On the Integrations page, click **Add**.
6. Select {{site.data.keyword.en_short}} service instance that you want to connect.
    If an IAM authorization between {{site.data.keyword.logs_full_notm}} and {{site.data.keyword.en_short}} doesn't exist in your account, a dialog is displayed. Follow the prompts to grant access between the services.

    1. To grant access between {{site.data.keyword.logs_full_notm}} and {{site.data.keyword.en_short}}, click **Authorize**.
    2. Select **{{site.data.keyword.en_short}}** as the target service.
    3. From the list of instances, select the {{site.data.keyword.en_short}} service instance that you want to authorize.
    4. Select the **Event Source Manager** role.
    5. Click **Review**.
    6. Click **Assign**.

7. To confirm the connection, click **Save**.

### Sending a test event to {{site.data.keyword.en_short}} in the UI
{: #send-test-event}

After you enable notifications for {{site.data.keyword.logs_full_notm}}, test your connection to ensure that the events that are generated by {{site.data.keyword.logs_full_notm}} are being forwarded to {{site.data.keyword.en_short}}.

![Sending a test event to Event Notifications {{site.data.keyword.en_short}}](/images/event-notification-test-event.png "Sending a test event to Event Notifications {{site.data.keyword.en_short}}"){: caption="Figure 1. Sending a test event to Event Notifications {{site.data.keyword.en_short}}" caption-side="bottom"}

## Delivering notifications to select destinations
{: #event-notifications-destinations}

After you enable notifications for {{site.data.keyword.logs_full_notm}}, create topics and subscriptions in {{site.data.keyword.en_short}} so that alerts can be forwarded and delivered to your selected destinations.

For a complete list of supported destinations, see the [{{site.data.keyword.en_short}} documentation](/docs/event-notifications?topic=event-notifications-en-destination).
{: tip}

### Email notifications
{: #event-notifications-email}

You can use the [{{site.data.keyword.cloud_notm}} email service](/docs/event-notifications?topic=event-notifications-en-destinations-email) as a delivery channel for {{site.data.keyword.logs_full_notm}} event notifications. [Create an {{site.data.keyword.en_short}} subscription](/docs/event-notifications?topic=event-notifications-en-create-en-subscription) between an existing topic and the {{site.data.keyword.cloud_notm}} email service to forward your alerts to various recipients by email.

To receive detailed information about an event notification in your email, select the **Add notification payload** option when you create an {{site.data.keyword.en_short}} subscription. Your email displays the [notification payload details](#event-notifications-payload) that are associated with the event.
{: tip}


### Webhooks
{: #event-notifications-webhook}

You can configure a webhook destination so that an incoming notification can be consumed programmatically by an app or service. For more information about setting up webhooks, check out the [{{site.data.keyword.en_short}} documentation](/docs/event-notifications?topic=event-notifications-en-destinations-webhook).

## Notification payload details
{: #event-notifications-payload}

Successful events that are generated by {{site.data.keyword.logs_full_notm}} contain various fields that help you to identify the source and details of an event.

Event notifications from {{site.data.keyword.logs_full_notm}} contain only metadata properties, such as names or identifiers of resources. Sensitive data, for example API keys or passwords, are not included in generated events.
{: note}

The properties that are sent to {{site.data.keyword.en_short}} vary depending on the event type and subtype. For example, if a `StandardMoreThanAlertEvent:AlertTriggered` event takes place in an instance for one or more public_cert secrets, {{site.data.keyword.logs_full_notm}} sends a notification payload to {{site.data.keyword.en_short}} that is similar to the following example.


```json
{
   "data": {
      "alert_definition": {
         "alert_type": "StandardMoreThanAlertEvent",
         "condition": {
            "MoreThan": {
               "condition_threshold": 0,
               "condition_timeframe": 0
            }
         },
         "description": "",
         "id": "<alert_id>",
         "name": "<alert_name>",
         "query_statement": "_exists_:level",
         "severity": "ERROR"
      },
      "latest_event_timestamp": 0000000000000,
      "links": {
         "edit_alert": "https://dashboard.cxdev.eu-gb.logs.dev.appdomain.cloud/<instance_id>/#/alerts/<alert_id>",
         "view_alert": "https://dashboard.cxdev.eu-gb.logs.dev.appdomain.cloud/<instance_id>/#/insights?id=c9fe7539-e901-4745-b3ad-29ca0ae987a0"
      },
      "status": "triggered"
   },
   "datacontenttype": "application/json",
   "ibmendefaultlong": "Triggered: 2024-01-01T00:00:00Z",
   "ibmendefaultshort": "ERROR - new_groupBy",
   "ibmensourceid": "crn:v1:staging:public:logs:<region>:a/<account_id>:<instance_id>::",
   "id": "997355d5-4542-47fd-9868-84cf5df71e1b_c9fe7539-e901-4745-b3ad-29ca0ae987a0",
   "notification_id": "923873c0-2b42-4d4c-a9a0-c69339b16717",
   "source": "crn:v1:staging:public:logs:<region>:a/<account_id>:<instance_id>::",
   "time": "2024-01-01T00:00:00.000000Z",
   "type": "com.ibm.cloud.logs.<event_type>:<event_subtype>"
}
```

Review following table for more information about event notification properties.

| Property | Description |
| ---- | ---- |
| `alert_definition` |  - `alert_type`: The [type of alert](#event-notifications-list) that triggered a notification.  \n - `condition`: Alerts configuration about when alerts can be triggered.  \n - `description`: The description of the alert.  \n - `id`: The id of the given alert.  \n - `name`: The name of the given alert.  \n - `query_statement`: The search query of the given alert.  \n - `severity`: The severity level of the given alert. |
| `latest_event_timestamp` | The date and time the event was generated. |
| `links` |  - `edit_alert`: Link to the page to modify configurations of the alert.  \n - `view_alert`: Link to the page to check alert details. |
| `status` | The status of the given alert. |
| `ibmensourceid` | The Cloud Resource Name (CRN) that uniquely identifies your {{site.data.keyword.logs_full_notm}} service instance. |
| `id` | The identifier provided by {{site.data.keyword.logs_full_notm}} that would identify the event in {{site.data.keyword.logs_full_notm}} |
| `notification_id` | The identifier created by {{site.data.keyword.en_short}}. |
| `source` | The Cloud Resource Name (CRN) that uniquely identifies your {{site.data.keyword.logs_full_notm}} service instance. |
| `type` | The combination of the [type of event](#event-notifications-list) that triggered a notification and The subtype that corresponds with the [type of event](#event-notifications-list) that triggered a notification. |
{: caption="Table 3. Properties in an event notification payload" caption-side="bottom"}
