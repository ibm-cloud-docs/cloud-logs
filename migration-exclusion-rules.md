---

copyright:
  years:  2024
lastupdated: "2024-07-22"

keywords:

subcollection: activity-tracker

---

{{site.data.keyword.attribute-definition-list}}

# Excluding ingestion data by using exclusion rules in an {{site.data.keyword.at_full_notm}} instance or {{site.data.keyword.la_full_notm}} instance
{: #migration-exclusion-rules}

In an {{site.data.keyword.at_full_notm}} instance or {{site.data.keyword.la_full_notm}} instance, you can configure exclusion rules to stop events from counting against your data usage quota and from being stored for search.
{: shortdesc}

For example, if your account is migrating an {{site.data.keyword.at_full_notm}} instance to an {{site.data.keyword.logs_full_notm}} instance or if you are using {{site.data.keyword.logs_routing_full_notm}} with an {{site.data.keyword.la_full_notm}} target, then this step is necessary to avoid duplicate log data.


## Prereqs
{: #exclusion_rules_prereqs}

You must have manager access to define exclusion rules in an {{site.data.keyword.at_full_notm}} instance or an {{site.data.keyword.la_full_notm}} instance.
{: note}


## Configuring an exclusion rule through the UI
{: #exclusion_rules_ui}

Complete the following steps to define an exclusion rule:

Verify that each exclusion rule that you add behaves as expected. Improper configured exclusion rules can result in storing data not intended for storage.
{: important}

1. [Launch the {{site.data.keyword.at_full_notm}} web UI](/docs/activity-tracker?topic=activity-tracker-launch).

2. Select the **Settings** icon ![Settings icon](/icons/setting.svg "Settings icon"). Then select **Usage** &gt; **Exclusion Rules**.

3. Select **Add Rule**. The **Create Rule** section opens.

4. Enter a name for the rule in the section **What is this rule for?**.

5. Enter the exclusion criteria. You can select 1 or more hosts, 1 or more apps, enter a query, or a combination of hosts, apps and query.

    For example, to exclude all the lines from a specific {{site.data.keyword.cloud_notm}} service in a specific region, enter the following query:

    ```text
    logSourceCRN:"crn:v1:bluemix:public:SERVICE_NAME:REGION"
    ```
    {: codeblock}

    Where

    `SERVICE_NAME` is the name of the service in the CRN.

    `REGION` is the region where the auditing events or platform logs are generated.

    For example, to remove platform logs generated by the Kubernetes service, use the following query: `logSourceCRN:"crn:v1:bluemix:public:containers-kubernetes:au-syd"`

6. Select **Preserve these lines for live-tail and alerting** to show through the live tail the log lines that are excluded. Notice that you can still use these log lines to set up an alert.

7. Click **Save**.

8. After you configure an exclusion rule, verify that the exclusion rule behaves as you expect.

    Check the query in a custom view by entering the search criteria in the search bar of the *Everything* view, and validating that the data that is displayed is the data that you want excluded.
    {: tip}
